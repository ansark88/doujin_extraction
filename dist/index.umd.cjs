(function(c,i){typeof exports=="object"&&typeof module<"u"?i(exports):typeof define=="function"&&define.amd?define(["exports"],i):(c=typeof globalThis<"u"?globalThis:c||self,i(c.doujin_extraction={}))})(this,function(c){"use strict";const i={melonbooks:{name:"メロンブックス",domains:["melonbooks.co.jp"],circleid_string:["circle_id"],productUrlPattern:"https://www.melonbooks.co.jp/detail/detail.php?product_id={product_code}",cicrleUrlPattern:"https://www.melonbooks.co.jp/circle/index.php?circle_id={circle_code}"},dlsite:{name:"DLsite",domains:["dlsite.com"],circleid_string:["maker_id"],productUrlPattern:"https://www.dlsite.com/maniax/work/=/product_id/{product_code}.html",cicrleUrlPattern:"https://www.dlsite.com/maniax/circle/profile/=/maker_id/{circle_code}.html"},fanza:{name:"FANZA",domains:["dmm.co.jp"],circleid_string:["article=maker"],productUrlPattern:"https://www.dmm.co.jp/dc/doujin/-/detail/=/cid={product_code}/",cicrleUrlPattern:"https://www.dmm.co.jp/dc/doujin/-/list/=/article=maker/id={circle_code}"},pixiv:{name:"pixiv",domains:["pixiv.net"],circleid_string:["users","member.php"],productUrlPattern:"https://www.pixiv.net/artworks/{product_code}",cicrleUrlPattern:"https://www.pixiv.net/users/{circle_code}"},twitter:{name:"Twitter",domains:["twitter.com","x.com"],circleid_string:[],productUrlPattern:null,cicrleUrlPattern:"https://x.com/{circle_code}"}},n=Object.fromEntries(Object.entries(i).map(([t,e])=>[t,e.name]));function p(t){return t in i}const d=t=>p(t)?i[t]:Object.values(i).find(e=>e.name===t),u=(t,e)=>{const r=d(t);return r!=null&&r.productUrlPattern?r.productUrlPattern.replace("{product_code}",e):""},w=(t,e)=>{const r=d(t);return r!=null&&r.cicrleUrlPattern?r.cicrleUrlPattern.replace("{circle_code}",e):""},f=t=>{const e=Object.values(i).find(r=>r.domains.some(o=>t.includes(o)));return e==null?void 0:e.name},h=(t,e)=>{var r,o,l,a,s,m;if(!e)return"";switch(t){case n.dlsite:return(r=e.match(/maker_id\/(.+?)\.html/))==null?void 0:r[1].replace("/","");case n.melonbooks:return(o=e.match(/circle_id=(.+)/))==null?void 0:o[1].replace("/","");case n.fanza:return(l=e.match(/id=(.+)/))==null?void 0:l[1].replace("/","");case n.pixiv:return e.includes("member.php")?(a=e.match(/member.php\?id=(.+)/))==null?void 0:a[1].replace("/",""):(s=e.match(/users\/(.+)/))==null?void 0:s[1].replace("/","");case n.twitter:return(m=e.match(/(x|twitter).com\/(.+)/))==null?void 0:m[2].replace("/","");default:return""}};c.PlatformList=n,c.extractCircleID=h,c.getCircleUrl=w,c.getPlatformByDomain=f,c.getPlatformDetail=d,c.getProductUrl=u,Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})});
